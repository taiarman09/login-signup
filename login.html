<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>

    <div class="container">
        <div class="login">
            <form action="" id="loginForm">
                <h2>Login</h2>
                <p>Welcome To Login Page</p>
                <div class="input-box" style="margin-top: 20px;">
                    <input type="email" id="email" autocomplete="email" placeholder="Enter Your Email">
                    <i class="fa-regular fa-envelope"></i>
                </div>
                <div class="input-box" style="margin-top: 10px;">
                    <input type="password" id="password" autocomplete="current-password"
                        placeholder="Enter Your Password">
                    <i class="fa-solid fa-key"></i>
                </div>
                <div class="button-reset-submit">
                    <div><button type="submit" autocomplete="current-password">Log In</button></div>
                </div>
                <div class="text-forgot">
                    <div class="text-forgot-1">Forgotten your login details? </div>
                    <div class="text-forgot-2"><a href="forgot.html">Get help with loggin in.</a></div>
                </div>
                <div class="google-button">
                    <div><button class="continue-google" type="button" id="" autocomplete="button"><img height="100%"
                                width="20%" src="./image/google-removebg-preview.png" alt=""></button></div>
                    <div><a class="create-new" href="SignUp.html">Create a new account</a></div>
                </div>

            </form>
        </div>
    </div>






















    <script>
        const form = document.getElementById("loginForm");

        form.addEventListener("submit", function (event) {
            event.preventDefault();

            let email = document.getElementById("email").value.trim();
            let password = document.getElementById("password").value.trim();

            // empty checks
            if (email === "" && password === "") {
                alert("Please fill email and password before login!");
                return;
            }
            else if (email === "") {
                alert("Please fill email address before login!");
                return;
            }
            else if (password === "") {
                alert("Please fill password before login!");
                return;
            }

            // get all registered users
            let users = JSON.parse(localStorage.getItem("users")) || [];

            // no user exists
            if (users.length === 0) {
                alert("No account found! Please sign up first.");
                window.location.href = "signUp.html";
                return;
            }

            // find user by email & password
            let foundUser = users.find(u => u.email === email && u.password === password);

            if (foundUser) {
                window.location.href = "home.html";
            } else {
                alert("Incorrect email or password!");
            }
        });
    </script>


</body>

</html>